---
title: "NFL Passing"
author: "Damien Ruparal Nathan Tatko Sean Dube"
date: "11/17/2020"
output:
  rmdformats::readthedown:
    thumbnails: false
    highlight: NULL
    runtime: shiny
---
<center>

![ESPN - Damian Ruparal, Nathan Tatko, Sean Dube](https://raw.githubusercontent.com/stat231-f20/Blog-ESPN/main/images/team_image.jpeg)

</center>
# ABOUT THE DATA

We gathered data from the NFL Big Bowl Data competition's dataset in Kaggle. The annual sports analytics contest from NFL Football Operations challenges talented members of the analytics community – from college students to professionals – to contribute to the NFL’s continuing evolution in the use of advanced analytics. As the NFL captures real-time data for every player, on every play, in every situation — anywhere on the field — the Big Data Bowl is the league’s next step in engaging the analytics community (NFL Ops).


## OUR MISSION

The ESPN pug group wants to explore the outcomes of passing plays in the NFL. Our variable of interest, outcome of play, has many results. Outcomes of plays include touchdown, safety, incomplete pass, fumble, interception, out of bounds, field goal etc. Our dataset gave information on the ball's location at a specific point in the play, the absolute yard line (line of scrimmage), yards to go, down, and direction of play. We used this data to track where the ball was snapped, where the ball was at the end of a play, and to determine outcome of the play. 


## THE APP

```{r, echo=FALSE, include=FALSE}
library(shiny)
library(ggplot2)
library(tidyverse)
library(png)
library(grid)
```


```{r, echo=FALSE}
plot1 <- read.csv("plot1finished.csv")
footballfield <- png::readPNG("footballfield.png")

togo <- c("short", "medium", "long")

direction1 <- c("left", "right")

ui <- fluidPage(
  
  titlePanel("NFL Passing"),
  
  sidebarPanel(
    sliderInput(inputId = "down1", label = "Down",
                min = 1, max = 4,
                value = 1),
    selectInput(inputId = "ToGo", label = "Yards To Go", choices = togo),
    sliderInput(inputId = "yardline", label = "Absolute Yardline",
                min = 0, max = 110,
                value = 0),
    selectInput(inputId = "direction", label = "Direction of Play", choices = direction1),
    
  ),
  mainPanel(
    tabsetPanel(
      tabPanel("Play Stats", plotOutput("Plot")
      )
    )
  )
  
)




server <- function(input, output) {
  
  use_data <- reactive({
    data <- plot1 %>%
      filter(down == input$down1)%>%
      filter(togo == input$ToGo) %>%
      filter(absoluteYardlineNumber == input$yardline)%>%
      filter(playDirection == input$direction)
  })
  
  
  output$Plot <- renderPlot(
    
    ggplot(data = use_data(), aes_string(x = "x", y = "y", shape = "event", color = "event"))+
      annotation_custom(rasterGrob(footballfield, 
                                   width = unit(1,"npc"), 
                                   height = unit(1,"npc")), 
                        -Inf, Inf, -Inf, Inf) + 
      geom_point(size = 3)+
      xlim(0,120)+
      ylim(-5,60)+
      scale_fill_manual(values=c("yellow", "orange", "red", "blue"), 
                       name="Event",
                       breaks=c("ball_snapped", "end_of_play", "pass_outcome_incomplete", "touchdown"),
                       labels=c("Line of Scrimmage", "Complete Pass", "Incomplete Pass", "Touchdown"))
    
  )
}
  
  





shinyApp(ui = ui, server = server)

```


## Including code and plots

You can embed code as normal, for example:


Let's clean up the format of that output:


In a study from the 1920s, fifty cars were used to see how the speed of the car and the distance taken to stop were related.  Speeds ranged between `r min(cars$speed)` and `r max(cars$speed)` mph.  Distances taken to stop ranged between `r min(cars$dist)` and `r max(cars$dist)` feet, with the middle 50% falling between `r as.numeric(quantile(cars$dist)[2])` and `r as.numeric(quantile(cars$dist)[4])` feet.  

You can also embed plots as normal, for example:


Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.


## Including links and images

You can include [Links](https://www.datadreaming.org/post/r-markdown-theme-gallery/).

You can include images inline with text ![amherst mammoths](https://www.amherst.edu/system/files/styles/original/private/media/Mammoth_Icon_PurpleRGB.png)

or on a new line







